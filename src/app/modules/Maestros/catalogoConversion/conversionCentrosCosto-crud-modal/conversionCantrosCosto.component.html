<form [formGroup]="formGroup" (submit)="OnSubmit()">

    @if(command.method == 'CREATE')
    {
    <p style="margin-top: 0%;">Ingresa los registros que deseas adicionar a la tabla</p>
    }@else if (command.method == 'EDIT') {
    <p>Cambia, agrega o reorganiza los registros que deseas visualizar en la tabla</p>
    }

    @if (command.method == 'DELETE') {
    <div class="text-xl flex justify-content-center">
        <p class="text-center">
            ¿Esta seguro de eliminar la convensión? <br />
            <!-- <span class="font-semibold">{{ area }}</span> ? -->
        </p>
    </div>
    } @else {
    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column gap-2 py-2">
                <label for="conjuntoConversion" class="font-weight-bold">Conjunto de conversion<span class="text-danger font-weight-bold">*</span></label>
                <input formControlName="conjuntoConversion" pInputText id="conjuntoConversion" aria-describedby="code-help" />
                @if(FieldHasErrors('conjuntoConversion')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>

    </div>

    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column gap-2 py-2">
                <label for="codigoConversion" class="font-weight-bold">Codigo de conversion<span class="text-danger">*</span></label>
                <input formControlName="codigoConversion" pInputText id="codigoConversion" aria-describedby="name-help" />
    
                @if(FieldHasErrors('codigoConversion')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>


    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column d-grid gap-2 py-2 py-2">
                <label for="equivalenciaConversion" class="font-weight-bold">Equivalencia de conversion<span class="text-danger font-weight-bold">*</span></label>
                <input formControlName="equivalenciaConversion" pInputText id="equivalenciaConversion" aria-describedby="name-help" />

                @if(FieldHasErrors('equivalenciaConversion')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>
    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column d-grid gap-2 py-2 py-2">
                <label for="conjuntoRelacionado" class="font-weight-bold">Conjunto relacionado<span class="text-danger font-weight-bold">*</span></label>
                <input formControlName="conjuntoRelacionado" pInputText id="conjuntoRelacionado" aria-describedby="name-help" />

                @if(FieldHasErrors('conjuntoRelacionado')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>

    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column d-grid gap-2 py-2 py-2">
                <label for="valorRelacionado" class="font-weight-bold">Valor relacionado<span class="text-danger font-weight-bold">*</span></label>
                <input formControlName="valorRelacionado" pInputText id="valorRelacionado" aria-describedby="name-help" />

                @if(FieldHasErrors('valorRelacionado')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>

    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <label for="estado" class="font-weight-bold">Estado<span class="text-danger">*</span></label>
            <div class="d-flex flex-column">
                <div class="d-flex gap-2">
                    <div class="p-field-radiobutton">
                        <p-radioButton name="estado" value=1 formControlName="estado" inputId="estado1" [class]="FieldHasErrors('estado') ? 'ng-dirty ng-invalid' : ''"></p-radioButton>
                        <label for="estado1">Activo</label>
                    </div>
                    <div class="p-field-radiobutton">
                        <p-radioButton name="estado" value=2 formControlName="estado" inputId="estado2" [class]="FieldHasErrors('estado') ? 'ng-dirty ng-invalid' : ''"></p-radioButton>
                        <label for="estado2">Inactivo</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }
    <div class="d-flex justify-content-end mb-2">
        @if(command.method == 'DELETE'){
        <p-button class="bw-color-white-secundary me-2" label="No, Cancelar" (onClick)="CloseModal()"> </p-button>
        <p-button type="submit" class="bw-color-blue" label="Si, Eliminar"></p-button>
        }@else{
        <div class="mt-3">
            <p-button class="bw-color-white-secundary me-2" label="Cancelar" (onClick)="CloseModal()"> </p-button>
            <p-button type="submit" class="bw-color-blue" label="Adicionar"></p-button>
        </div>
        }
    </div>
</form>