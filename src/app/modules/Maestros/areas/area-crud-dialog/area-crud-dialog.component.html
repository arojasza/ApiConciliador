<form [formGroup]="formGroup" (submit)="OnSubmit()">

    @if(command.method == 'CREATE')
    {
    <p style="margin-top: 0%;">Ingresa los registros que deseas adicionar a la tabla</p>
    }@else if (command.method == 'EDIT') {
    <p>Cambia, agrega o reorganiza los registros que deseas visualizar en la tabla</p>
    }

    @if (command.method == 'DELETE') {
    <div class="text-xl flex justify-content-center">
        <p class="text-center">
            Â¿Esta seguro de eliminar el Usuario? <br />
            <!-- <span class="font-semibold">{{ area }}</span> ? -->
        </p>
    </div>
    } @else {
    <div class="formgrid row">
        <div class="field col-12 col-md-12 py-2">
            <div class="d-flex flex-column gap-2">
                <label for="identificacion" class="font-weight-bold">Identificacion<span class="text-danger">*</span></label>
                <input formControlName="identificacion" pInputText id="identificacion" aria-describedby="code-help" />
                @if(FieldHasErrors('identificacion')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>
    <div class="formgrid row">
        <div class="field col-12 col-md-12 py-2">
            <div class="d-flex flex-column gap-2">
                <label for="nombres" class="font-weight-bold">Nombres<span class="text-danger">*</span></label>
                <input formControlName="nombres" pInputText id="nombres" aria-describedby="name-help" />

                @if(FieldHasErrors('nombres')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>
    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <div class="d-flex flex-column gap-2 py-2">
                <label for="correo" class="font-weight-bold">Correo<span class="text-danger">*</span></label>
                <input formControlName="correo" pInputText id="correo" aria-describedby="name-help" />

                @if(FieldHasErrors('correo')) {
                <small id="type-help" class="font-weight-bold text-danger d-flex">Campo requerido</small>
                }
            </div>
        </div>
    </div>

    <div class="formgrid row">
        <div class="field col-12 col-md-12 py-2">
            <label for="rol" class="font-weight-bold">Rol<span class="text-danger">*</span></label>

            <p-dropdown [style]="{ minWidth: '100%' }" [options]="tipoRoles" formControlName="rol"
            optionLabel="value" optionValue="optionId" [showClear]="true" placeholder="Seleccionar tipo de base de datos"
            [class]="FieldHasErrors('rol') ? 'ng-dirty ng-invalid' : ''">
          </p-dropdown>
  
          @if(FieldHasErrors('rol')) {<small id="username-help" class="font-weight-bold text-danger d-flex">Campo
            obligatorio</small>}
        </div>
    </div>
    <div class="formgrid row">
        <div class="field col-12 col-md-12">
            <label for="estado" class="font-weight-bold">Estado<span class="text-danger">*</span></label>
            <div class="d-flex flex-column">
                <div class="d-flex gap-2 py-2">
                    <div class="p-field-radiobutton">
                        <p-radioButton name="estado" value=1 formControlName="estado" inputId="estado1" [class]="FieldHasErrors('estado') ? 'ng-dirty ng-invalid' : ''"></p-radioButton>
                        <label for="estado1" >Activo</label>
                    </div>
                    <div class="p-field-radiobutton">
                        <p-radioButton name="estado" value=2 formControlName="estado" inputId="estado2" [class]="FieldHasErrors('estado') ? 'ng-dirty ng-invalid' : ''"></p-radioButton>
                        <label for="estado2">Inactivo</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }
    <div class="d-flex justify-content-end mb-2">
        @if(command.method == 'DELETE'){
        <p-button class="bw-color-white-secundary me-2" label="No, Cancelar" (onClick)="CloseModal()"> </p-button>
        <p-button type="submit" class="bw-color-blue" label="Si, Eliminar"></p-button>
        }@else{
        <div class="mt-3">
            <p-button class="bw-color-white-secundary me-2" label="Cancelar" (onClick)="CloseModal()"> </p-button>
            <p-button type="submit" class="bw-color-blue" label="Adicionar"></p-button>
        </div>
        }
    </div>
</form>